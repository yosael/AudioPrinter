<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head></h:head> 
<body onload="#{buscarFacturaSvTradeBean.iniciar()}" > 

	
	<h:form id="form1" >
		<h:panelGrid columns="1" style="margin:0 auto;margin-top:40px;">
			
			<p:outputLabel value="BUSCAR FACTURAS" ></p:outputLabel>	
			
			<p:separator></p:separator>
			
			<p:spacer height="20" ></p:spacer>
			<h:panelGrid columns="2" >
				<p:link  href="../seleccionarFormato.xhtml"  >
					<p:button value="Inicio" icon="fa fa-home" ></p:button>
				</p:link>
				<p:commandButton value="Nueva" action="facturaSvTrade" icon="fa fa-plus" ></p:commandButton>
			</h:panelGrid>
			<p:dataTable id="tbFacturas" value="#{buscarFacturaSvTradeBean.facturas}" var="fac" style="max-width:1200px;margin:0 auto"  rows="10" paginator="true" 
                          >
				<f:facet name="header">
		            Listado de facturas
		        </f:facet>
		        <p:column  headerText="..."   >
					<p:commandButton action="#{buscarFacturaSvTradeBean.generarNueva(fac.idFactura)}" icon="fa fa-plus" value="Generar" >
					</p:commandButton>
				</p:column>
				<p:column  headerText="# FACTURA"  filterBy="#{fac.codigoFactura}" >
						<p:outputLabel value="#{fac.codigoFactura}" />
				</p:column>
				<p:column  headerText="PACIENTE" filterBy="#{fac.nombreCliente}" filterMatchMode="contains" >
						<p:outputLabel value="#{fac.nombreCliente}" />
				</p:column>
				<p:column  headerText="FECHA" sortBy="#{fac.fecha}" >
						<p:outputLabel value="#{fac.fecha}" />
				</p:column>
				<p:column  headerText="SUBTOTAL"  >
						<p:outputLabel value="#{fac.subtotal}" />
				</p:column>
				<p:column  headerText="TOTAL"  >
						<p:outputLabel value="#{fac.ventaTotal}" />
				</p:column>
				<p:column  headerText="..."   >
					<p:commandButton action="#{buscarFacturaSvTradeBean.seleccionarFactura(fac.idFactura)}" icon="fa fa-search" value="Ver" >
					</p:commandButton>
				</p:column>
			</p:dataTable>
			
		</h:panelGrid>
	</h:form>
</body> 
</html>
